PART
{
name = PMerlinV16507
module = Part
author = GE, NathanKell


  //BLADES///////////////////////////////////////////////////////////////////////
    MODEL {
    model=VTProp/Blades/HSProp4blade
    position = 0.0, 0.1375, 0.0
    scale = 1.7018,1.7018,1.7018
    rotation = 0, 0, 0
  }
    MODEL {
    model=VTProp/Bits/Spinner
    position = 0.0, 0.1375, 0.0
    scale = 2.083,2.083,2.083
    rotation = 0, 0, 0
  }

	//PROPERTIES///////////////////////////////////////////////////////////////////////
	
	fx_exhaustSparks_flameout = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, flameout
	fx_smokeTrail_light  = 0.0, -0.1, 0.0, 0.0, 1.0, 0.0, power
	
	rescaleFactor = 1

	node_stack_bottom = 0, 0, 0, 0, -1, 0, 0
	
	///////////////////////////////////////////////////////////////////////////////////
	
	TechRequired = aerodynamicSystems
	entryCost = 2800
	cost = 950
	category = Propulsion
	subcategory = 0
	title = Packard Merlin V-1650-7
	manufacturer = VT
	description = WWII-era V-12 liquid-cooled piston engine, the Merlin as produced by Packard (US). 1620HP at sea level with ram air with a very strong two-speed two-stage supercharger (1710 max with ram air at just over 3km, second peak 1410HP at 7.9km). 67inHG max boost. Used on the P-51B/C/D Mustang. 11ft 2in 4 blade constant speed propeller.
	
	///////////////////////////////////////////////////////////////////////////////////
	
	attachRules = 1,0,1,0,0
	
	mass = 0.917
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 7
	maxTemp = 300
	fuelCrossFeed = True
	CoMOffset = 0, -1.1, 0
	
	stagingIcon = LIQUID_ENGINE
	
	//TEXTURESWITCHER;MESHSWITCHER/////////////////////////////////////////////////////

	MODULE
	{
		name = FStextureSwitch
		moduleID = 1	
		//showListButton = true
		textures
		{
			
			name = VTProp/Bits/spinner
			name = VTProp/PPTextures/Blue
			name = VTProp/PPTextures/Green
			name = VTProp/PPTextures/Yellow
			name = VTProp/PPTextures/Red
			name = VTProp/PPTextures/Metal
		}
		objects
		{
			name = Spinner
		}
	}
	
	//INTAKE///////////////////////////////////////////////////////////////////////////
	
	MODULE
	{
		name = ModuleResourceIntake
		resourceName = IntakeAir
		checkForOxygen = false
		area = 0.03
		intakeSpeed = 50
		intakeTransformName = thrustTransform //Intake  
	}
	
	RESOURCE
	{
		name = IntakeAir
		amount = 0
		maxAmount = 0.1
	}	
	

	//ENGINE/////////////////////////////////////////////////////////// 
	
	MODULE
	{
		name = ModuleEngines
		thrustVectorTransformName = thrustTransform2
		exhaustDamage = False
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 5
		heatProduction = 300
		useEngineResponseTime = True
		engineAccelerationSpeed = 0.2
		engineDecelerationSpeed = 0.5
		useVelocityCurve = True
		fxOffset = 0, 0, 0
		PROPELLANT
		{
			name = Placeholder
			ratio = 1
			DrawGauge = True
		}
		atmosphereCurve
		{
			key = 0 0
			key = 0.6 1800
			key = 1 2250
		}
		velocityCurve
		{
			key = 0 1 0 0
			key = 245 1 0 0
			key = 300 0.15 0 0
			key = 340 0 0 0
		}
		
	}
	
	MODULE
 {
	name=ModuleEnginesAJEPropeller
	IspMultiplier = 1
	useOxygen = true
	
	//  V-1650-7
	displacement = 1647
	compression = 6
	minRPM = 1670
	maxRPM = 3000
	power = 1601
	gearratio = 0.479
	BSFC = 1.2747-07
	coolerEffic = 0.77
	coolerMin = 15
	ramAir = 1
	exhaustThrust = 1
	meredithEffect = 0.015
	boost0 = 67
	rated0 = 1400
	boost1 = 67
	rated1 = 6200
	cost1 = 340
	switchAlt = 3200
	turbo = false
	wastegateMP = 67
	propName = MustangHProp
	
	propDiam = 3.4036
 }
		
	MODULE
	{
		name = FSswitchEngineThrustTransform
		defaultTTName = thrustTransform2
		alternateTTName = pusherThrustTransform
		useNamedAlternate = 0
	}
	
	MODULE
	{
		name = FSengineHandCrank
	}
	
	MODULE
		{
		name = FSengineSounds
		engage = Firespitter/Sounds/sound_fspropstart
		//running =
		power = Firespitter/Sounds/sound_fspropidle
		//disengage =
		//flameout =
		//warning = Firespitter/Sounds/sound_fsheatDing
		powerPitchBase = 1.0
		thrustAddedToPitch = 0.5
		powerFadeInSpeed = 0.005
		powerFadeInDelay = 0.5
		powerLowerThreshold = 0.0
		powerVolume = 1.0
		engageVolume = 1.0
		warningSoundThreshold = 0.8
		warningCooldownTime = 2.0
		randomStartDelay = 1.0 //for playing engines slightly out of sync
	}
	
	//MISC/////////////////////////////////////////////////////
	
	MODULE
	{
		name = ModuleAlternator	
		RESOURCE
		{
			name = ElectricCharge
			rate = 1.0
		}
	}
MODULE
	{
		name = FARBasicDragModel
		S = 2.06

		CdCurve
		{
			key = -1 0.004 0 0 // stern on
			key = 0 0.001 0 0 // sideways
			key = 1 0.003 0 0 // head on
		}
		ClPotentialCurve
		{
			key = -1 0 0 0
			key = -0.5 -0.001 0 0
			key = 0 0 0 0
			key = 0.5 0.001 0 0
			key = 1 0 0 0
		}
		CmCurve
		{
			key = -1 0.001 0 0
			key = -0.5 0.0 0 0
			key = 0 -0.001 0 0
			key = 0.5 -0.002 0 0
			key = 1 -0.004 0 0
		}
		ClViscousCurve
		{
			key = -1  0.0 0.0 0.0
			key = 0.0 0.0 0.0 0.0
			key = 1.0 0.0 0.0 0.0
		}
	}
	
	//PROP//////////////////////////////////////////////////////
	
	MODULE  //---- Blades///////////////////////////////////////////////////////////////////////
	{
		name = FSplanePropellerSpinner
		propellerName = SpinMaster1
		rotationSpeed = -300
		thrustRPM = 0
		windmillRPM = -30
		windmillMinAirspeed = 30
		spinUpTime = 2
		useRotorDiscSwap = 1
		rotorDiscName = Disk1
		rotorDiscFadeInStart = 0.5
		rotorDiscFadeInEnd = 0.95
		rotorDiscSpeed = 15
		blade1 = Blade1
		blade2 = Blade2
		blade3 = Blade3
		blade4 = Blade4
	}
	
	MODULE  //---- Spinner//////////////////////////////////////////////////////////////////////
	{
		name = FSplanePropellerSpinner
		propellerName = SpinnerSpinner
		rotationSpeed = -300
		thrustRPM = 0
		windmillRPM = -30
		windmillMinAirspeed = 30
		spinUpTime = 2
	
	}
}